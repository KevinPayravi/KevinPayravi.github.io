/* 

	HTML5 Modal Contact Form
	Version:    3.0
	Created By: Tyler Colwell
	Website:    http://tyler.tc/
	
	Copyright Â© 2010 Tyler Colwell
	
*/
(function(a){a.fn.html5ModalContact=function(g){var b={method:"post",action:"process_form.php",shadow:"#FFFFFF",opacity:70,advanced_close:!1,firstn_on:!0,lastn_on:!1,email_on:!0,subject_on:!0,phone_on:!1,firstn_label:"Your First Name",lastn_label:"Your Last Name",email_label:"Your Email Address",subject_label:"Message Subject",phone_label:"Your Phone Number",message_label:"Message",submit_label:"Submit",close_label:"Close",subject_values:"General,Technical,Feedback,Comments,Help and Support"};g=a.extend(b,g);tcformpop_recenter=function(){var f=a("#tcformpop"),d=document.documentElement.clientWidth,c=document.documentElement.clientHeight,e=f.outerHeight(!0),g=f.width();f.css({top:(c-e)/2+"px",left:d/2-g/2});a("#tcformpop-bg").css({height:c,opacity:"0."+b.opacity})};a(window).resize(function(){tcformpop_recenter()});tcformpop_close=function(){a("#tcformpop-bg").fadeOut("slow");a("#tcformpop").fadeOut("slow",function(){a("#tcformpop-bg").remove();a("#tcformpop").remove()})};a(".tcformpop-open").click(function(b){b.preventDefault();b.stopPropagation();tcformpop_display()});getPopHTML=function(){var a="";!0==b.firstn_on&&(a=a+'<div class="tcformpop-section"><label for="tcformpop_first">'+b.firstn_label+'</label><input required="required" class="tcformpop-input" name="tcformpop_first" id="tcformpop_first" type="text" placeholder="'+b.firstn_label+'"/><br class="tcformpop-clear" /></div>');!0==b.lastn_on&&(a=a+'<div class="tcformpop-section"><label for="tcformpop_last">'+b.lastn_label+'</label><input required="required" class="tcformpop-input" name="tcformpop_last" id="tcformpop_last" type="text" placeholder="'+b.lastn_label+'"/><br class="tcformpop-clear" /></div>');!0==b.email_on&&(a=a+'<div class="tcformpop-section"><label for="tcformpop_email">'+b.email_label+'</label><input required="required" class="tcformpop-input" name="tcformpop_email" id="tcformpop_email" type="text" placeholder="'+b.email_label+'"/><br class="tcformpop-clear" /></div>');!0==b.phone_on&&(a=a+'<div class="tcformpop-section"><label for="tcformpop_phone">'+b.phone_label+'</label><input required="required" class="tcformpop-input" type="email" name="tcformpop_email" id="tcformpop_email" type="text" placeholder="'+b.phone_label+'"/><br class="tcformpop-clear" /></div>');if(!0==b.subject_on){for(var d="",c=b.subject_values.split(","),e=0;e<c.length;e++)d=d+'<option value="'+c[e]+'">'+c[e]+"</option>";a=a+'<div class="tcformpop-section"><label for="tcformpop_email">'+b.subject_label+'</label><select name="tcformpop_subject" id="tcformpop_subject" class="tcformpop-input select">'+d+'</select><br class="tcformpop-clear" /></div>'}a=a+'<div class="tcformpop-section"><label for="tcformpop_message">'+b.message_label+'</label><textarea required="required" rows="5" name="tcformpop_message" id="tcformpop_message" class="tcformpop-input textarea"></textarea><br class="tcformpop-clear" /></div>';a=a+'<div class="tcformpop-section last"><input type="hidden" name="tcformpop_submit" value="tcformpop_submit"/><input class="tcformpop-submit" type="submit" value="'+b.submit_label+'"/><input class="tcformpop-submit" type="button" onClick="tcformpop_close();" value="'+b.close_label+'"/></div>';return'<div id="tcformpop-bg" style="background:'+b.shadow+'"></div><div id="tcformpop"><div class="tcformpop-inner"><div class="tcformpop-overlay"><div id="tcformpop-form-wrap"><form id="tcformpop_form" name="tcformpop_form" action="" method="post">'+a+'<br class="tcformpop-clear" /></form></div></div></div></div>'};tcformpop_display=function(){var f=getPopHTML();a("body").append(f);tcformpop_recenter();a("#tcformpop-bg").fadeIn("slow");a("#tcformpop").fadeIn("slow");!0==b.advanced_close&&(console.log("Advanced Close On"),a(document).keyup(function(a){27==a.keyCode&&(console.log("escape hit!"),tcformpop_close())}),a("body").click(function(){0==a(".tcformpop-success").length&&tcformpop_close()}),a("#tcformpop").click(function(a){a.stopPropagation()}));a("#tcformpop_form").submit(function(){var d=a(this).serialize(),c=a(this).find(":submit");c.attr("value","Sending...");c.attr("disabled","disabled");a.ajax({type:b.method,url:b.action,data:d,success:function(b){a("#tcformpop-form-wrap").html(b);a(".tcformpop-close").bind("click",tcformpop_close)}});return!1})}}})(jQuery);